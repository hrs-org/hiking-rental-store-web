<div class="register-container">
  <h1 class="register-title">Register</h1>

  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <mat-label class="form-label">
        First Name
        <span class="asterisk">*</span>
      </mat-label>
      <input
        class="form-input"
        [class.error]="hasError('firstName')"
        formControlName="firstName"
        required
        placeholder="Enter your first name"
      />
      @if (hasError('firstName')) {
        <div class="error-message">
          {{ getErrorMessage('firstName') }}
        </div>
      }
    </div>

    <div class="form-group">
      <mat-label class="form-label">
        Last Name
        <span class="asterisk">*</span>
      </mat-label>
      <input
        class="form-input"
        [class.error]="hasError('lastName')"
        formControlName="lastName"
        required
        placeholder="Enter your last name"
      />
      @if (hasError('lastName')) {
        <div class="error-message">
          {{ getErrorMessage('lastName') }}
        </div>
      }
    </div>

    <div class="form-group">
      <mat-label class="form-label">
        Email
        <span class="asterisk">*</span>
      </mat-label>
      <input
        class="form-input"
        [class.error]="hasError('email')"
        formControlName="email"
        type="email"
        required
        placeholder="Enter your email"
      />
      @if (hasError('email')) {
        <div class="error-message">
          {{ getErrorMessage('email') }}
        </div>
      }
    </div>

    <div class="form-group">
      <mat-label class="form-label">
        Password
        <span class="asterisk">*</span>
      </mat-label>
      <div class="password-input-container">
        <input
          class="form-input password-input"
          [class.error]="hasError('password')"
          [type]="hidePassword ? 'password' : 'text'"
          formControlName="password"
          required
          placeholder="Minimum 8 characters"
        />
        <button
          type="button"
          class="password-toggle-btn"
          (click)="togglePasswordVisibility()"
          [attr.aria-label]="hidePassword ? 'Show password' : 'Hide password'"
        >
          <mat-icon>
            {{ hidePassword ? 'visibility_off' : 'visibility' }}
          </mat-icon>
        </button>
      </div>
      @if (hasError('password')) {
        <div class="error-message">
          {{ getErrorMessage('password') }}
        </div>
      }
    </div>

    <div class="form-group">
      <mat-label class="form-label">
        Confirm Password
        <span class="asterisk">*</span>
      </mat-label>
      <div class="password-input-container">
        <input
          class="form-input password-input"
          [class.error]="hasError('confirmPassword') || getPasswordMatchError()"
          [type]="hideConfirmPassword ? 'password' : 'text'"
          formControlName="confirmPassword"
          required
          placeholder="Confirm your password"
        />
        <button
          type="button"
          class="password-toggle-btn"
          (click)="toggleConfirmPasswordVisibility()"
          [attr.aria-label]="hideConfirmPassword ? 'Show password' : 'Hide password'"
        >
          <mat-icon>
            {{ hideConfirmPassword ? 'visibility_off' : 'visibility' }}
          </mat-icon>
        </button>
      </div>
      @if (hasError('confirmPassword')) {
        <div class="error-message">
          {{ getErrorMessage('confirmPassword') }}
        </div>
      }
      @if (getPasswordMatchError()) {
        <div class="error-message">
          {{ getPasswordMatchError() }}
        </div>
      }
    </div>

    <br />

    <button class="register-btn" type="submit">Register</button>
  </form>

  <a href="#" class="back-link" (click)="handleBackToLogin($event)">‚Üê Back To Login</a>
</div>
